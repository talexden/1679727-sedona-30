const searchForm=document.querySelector(".search-form");if(searchForm){const e=document.querySelector(".search-button"),r=searchForm.querySelectorAll("[name]");let s=!0,o=!0;const t=e=>{o=e,o?(searchForm.classList.remove("search-form-hide"),searchForm.classList.add("search-form-appear"),setTimeout((()=>searchForm.classList.remove("search-form-appear")),600)):(searchForm.classList.remove("search-form-error"),searchForm.classList.add("search-form-disappear"),setTimeout((()=>{searchForm.classList.remove("search-form-disappear"),searchForm.classList.add("search-form-hide")}),600))};try{localStorage.getItem("test")}catch(e){s=!1}if(s)for(const e of r){const r=localStorage.getItem(e.name);r&&(e.value=r)}e.addEventListener("click",(function(){t(!o)})),searchForm.addEventListener("submit",(function(e){if(e.preventDefault(),searchForm.classList.remove("search-form-error"),!searchForm.checkValidity()){setTimeout((()=>searchForm.classList.add("search-form-error")),0);for(const e of r)if(!e.validity.valid)return void e.focus()}for(const e of r)localStorage.setItem(e.name,e.value);searchForm.submit()})),window.addEventListener("keydown",(function(e){27===e.keyCode&&o&&t(!1)}));for(const e of searchForm.querySelectorAll('[type="number"]'))e.parentElement.querySelector(".search-num-decrease").addEventListener("click",(function(){e.stepDown()})),e.parentElement.querySelector(".search-num-increase").addEventListener("click",(function(){e.stepUp()}))}